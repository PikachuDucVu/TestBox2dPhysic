[{"D:\\projects\\test-game\\src\\index.ts":"1","D:\\projects\\test-game\\src\\Constant.ts":"2","D:\\projects\\test-game\\src\\GameScreen\\GameScreen.ts":"3","D:\\projects\\test-game\\src\\RenderSystem\\physicDebugSystem.ts":"4","D:\\projects\\test-game\\src\\RenderSystem\\RenderSystem.ts":"5","D:\\projects\\test-game\\src\\System\\inputHandlerSystem.ts":"6","D:\\projects\\test-game\\src\\System\\utils.ts":"7","D:\\projects\\test-game\\src\\System\\TurnOfTeam.ts":"8","D:\\projects\\test-game\\src\\System\\ContactListener.ts":"9","D:\\projects\\test-game\\src\\System\\NextLevelSystem.ts":"10","D:\\projects\\test-game\\src\\System\\CameraGame.ts":"11"},{"size":979,"mtime":1666838808937,"results":"12","hashOfConfig":"13"},{"size":1254,"mtime":1666838979404,"results":"14","hashOfConfig":"13"},{"size":12485,"mtime":1669620052517,"results":"15","hashOfConfig":"13"},{"size":4190,"mtime":1666343704258,"results":"16","hashOfConfig":"13"},{"size":1924,"mtime":1667201340839,"results":"17","hashOfConfig":"13"},{"size":7345,"mtime":1667375670136,"results":"18","hashOfConfig":"13"},{"size":2873,"mtime":1667382205792,"results":"19","hashOfConfig":"13"},{"size":5748,"mtime":1667377014454,"results":"20","hashOfConfig":"13"},{"size":2299,"mtime":1667385175159,"results":"21","hashOfConfig":"13"},{"size":1319,"mtime":1666336562039,"results":"22","hashOfConfig":"13"},{"size":2430,"mtime":1667376645810,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27"},"1hs4tzq",{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47"},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51"},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\projects\\test-game\\src\\index.ts",["62"],[],"import { b2_pi } from \"box2d.ts\";\r\nimport {\r\n  AssetManager,\r\n  createGameLoop,\r\n  createStage,\r\n  createViewport,\r\n  Game,\r\n} from \"gdxts\";\r\nimport { Constants } from \"./Constant\";\r\nimport { createGameScreen } from \"./GameScreen/GameScreen\";\r\n\r\nexport const init = async () => {\r\n  const stage = createStage();\r\n  const canvas = stage.getCanvas();\r\n  const viewport = createViewport(\r\n    canvas,\r\n    Constants.WORLD_WIDTH,\r\n    Constants.WORLD_HEIGHT\r\n  );\r\n  const gl = viewport.getContext();\r\n\r\n  const assetManager = new AssetManager(gl);\r\n  await assetManager.loadTexture(\"./bloodBar.png\", \"bloodBar\");\r\n  await assetManager.loadTexture(\"./vsAsset.png\", \"vsAsset\");\r\n  await assetManager.loadTexture(\"./winningAsset.png\", \"winningAsset\");\r\n  await assetManager.loadTexture(\"./tempAsset.png\", \"paint\");\r\n\r\n  Game.shared.setScreen(await createGameScreen(assetManager, viewport));\r\n\r\n  createGameLoop((delta: number) => {\r\n    Game.shared.update(delta);\r\n  });\r\n};\r\ninit();\r\n","D:\\projects\\test-game\\src\\Constant.ts",[],[],"D:\\projects\\test-game\\src\\GameScreen\\GameScreen.ts",["63"],[],"D:\\projects\\test-game\\src\\RenderSystem\\physicDebugSystem.ts",[],[],[],"D:\\projects\\test-game\\src\\RenderSystem\\RenderSystem.ts",[],[],"D:\\projects\\test-game\\src\\System\\inputHandlerSystem.ts",[],[],"D:\\projects\\test-game\\src\\System\\utils.ts",["64","65","66","67","68","69","70"],[],"import {\r\n  b2Body,\r\n  b2BodyDef,\r\n  b2BodyType,\r\n  b2CircleShape,\r\n  b2DynamicTree,\r\n  b2Filter,\r\n  b2FixtureDef,\r\n  b2Joint,\r\n  b2JointDef,\r\n  b2JointType,\r\n  b2PolygonShape,\r\n  b2WeldJointDef,\r\n  b2World,\r\n} from \"box2d.ts\";\r\nimport { Constants } from \"../Constant\";\r\n\r\nexport const createGround = (\r\n  physicWorld: b2World,\r\n  x: number,\r\n  y: number,\r\n  width: number,\r\n  height: number\r\n) => {\r\n  const bodyDef = new b2BodyDef();\r\n  bodyDef.type = b2BodyType.b2_staticBody;\r\n  bodyDef.position.Set(x, y);\r\n  const body = physicWorld.CreateBody(bodyDef);\r\n  const shape = new b2PolygonShape();\r\n  shape.SetAsBox(width / 2, height / 2, { x: width / 2, y: -height / 2 });\r\n\r\n  body.SetUserData(\"ground\");\r\n  body.CreateFixture(shape);\r\n  return body;\r\n};\r\n\r\nexport const createBall = (\r\n  physicWorld: b2World,\r\n  x: number,\r\n  y: number,\r\n  radius: number,\r\n  categoryBits: number,\r\n  maskBits: number\r\n): b2Body => {\r\n  const bodyDef = new b2BodyDef();\r\n  bodyDef.type = b2BodyType.b2_staticBody;\r\n  bodyDef.position.Set(x + radius / 2, y + radius / 2);\r\n  const circle = new b2CircleShape();\r\n  circle.m_radius = radius;\r\n  const fixtureDef = new b2FixtureDef();\r\n  fixtureDef.shape = circle;\r\n\r\n  fixtureDef.filter.categoryBits = categoryBits;\r\n  fixtureDef.filter.maskBits = maskBits;\r\n\r\n  const body = physicWorld.CreateBody(bodyDef);\r\n  body.CreateFixture(fixtureDef);\r\n  body.SetUserData(\"ball\");\r\n  return body;\r\n};\r\n\r\nexport const createPerson = (\r\n  physicWorld: b2World,\r\n  x: number,\r\n  y: number,\r\n  width: number,\r\n  height: number,\r\n  userData: { name: string },\r\n  categoryBits: number,\r\n  maskBits: number\r\n): b2Body => {\r\n  const bodyDef = new b2BodyDef();\r\n  bodyDef.type = b2BodyType.b2_dynamicBody;\r\n  bodyDef.position.Set(x + width / 2, y + height / 2);\r\n  const body = physicWorld.CreateBody(bodyDef);\r\n  const shape = new b2PolygonShape();\r\n  shape.SetAsBox(width / 2, height / 2, { x: width / 2, y: -height / 2 });\r\n  body.SetUserData({\r\n    name: userData.name,\r\n    durability: 0,\r\n  });\r\n\r\n  body.CreateFixture(shape);\r\n  return body;\r\n};\r\n\r\nexport const createArray = (\r\n  physicWorld: b2World,\r\n  x: number,\r\n  y: number,\r\n  width: number,\r\n  height: number,\r\n  angle: number,\r\n  categoryBits: number,\r\n  maskBits: number\r\n): b2Body => {\r\n  const bodyDef = new b2BodyDef();\r\n  bodyDef.type = b2BodyType.b2_staticBody;\r\n  bodyDef.position.Set(x, y);\r\n  const body = physicWorld.CreateBody(bodyDef);\r\n  const shape = new b2PolygonShape();\r\n\r\n  shape.SetAsBox(width / 2, height / 2, {\r\n    x: width / 4 - 0.1,\r\n    y: height / 4 - 0.2,\r\n  });\r\n  body.SetUserData({\r\n    name: \"Array\",\r\n  });\r\n  body.SetAngle(angle);\r\n\r\n  const fixtureDef = new b2FixtureDef();\r\n  fixtureDef.shape = shape;\r\n  fixtureDef.filter.categoryBits = categoryBits;\r\n  fixtureDef.filter.maskBits = maskBits;\r\n\r\n  body.CreateFixture(fixtureDef);\r\n\r\n  return body;\r\n};\r\n","D:\\projects\\test-game\\src\\System\\TurnOfTeam.ts",["71"],[],"import { b2Body, b2BodyType, b2World } from \"box2d.ts\";\r\nimport { System, Inject } from \"flat-ecs\";\r\nimport { OrthoCamera, Vector2 } from \"gdxts\";\r\nimport { Constants } from \"../Constant\";\r\nimport { StateGame } from \"../dataGame/stateGame\";\r\nimport { createBall } from \"./utils\";\r\n\r\nexport class TurnOfTeam extends System {\r\n  @Inject(\"StateGame\") StateGame: StateGame;\r\n  @Inject(\"ballsTeam1\") ballsTeam1: b2Body[];\r\n  @Inject(\"ballsTeam2\") ballsTeam2: b2Body[];\r\n  @Inject(\"Team1\") Team1: b2Body[];\r\n  @Inject(\"Team2\") Team2: b2Body[];\r\n  @Inject(\"physicWorld\") physicWorld: b2World;\r\n  @Inject(\"originPosition\") originPosition: Vector2;\r\n  @Inject(\"mapData\") mapData: any;\r\n  @Inject(\"camera\") camera: OrthoCamera;\r\n\r\n  MAP_HEIGHT = 1000;\r\n  ball1: any;\r\n  ball2: any;\r\n\r\n  initialized() {\r\n    this.ball1 = this.mapData.layers.find(\r\n      (b: any) => b.name === \"ball1\"\r\n    ).objects;\r\n    this.ball2 = this.mapData.layers.find(\r\n      (b: any) => b.name === \"ball2\"\r\n    ).objects;\r\n  }\r\n\r\n  process(): void {\r\n    // if (this.Team1.length === 0 || this.Team2.length === 0 ) {\r\n    //   this.StateGame.conditionWin = true;\r\n    // }\r\n    if (\r\n      this.StateGame.CooldownTime < 0 &&\r\n      this.StateGame.changeTurn &&\r\n      this.StateGame.conditionWin === false\r\n    ) {\r\n      switch (this.StateGame.WhoisTurning) {\r\n        case 1:\r\n          this.StateGame.WhoisTurning = 2;\r\n          for (let i = this.ballsTeam1.length - 1; i >= 0; i--) {\r\n            this.physicWorld.DestroyBody(this.ballsTeam1[i]);\r\n            this.ballsTeam1.splice(i, 1);\r\n          }\r\n          for (let i = this.Team1.length - 1; i >= 0; i--) {\r\n            this.Team1[i].SetActive(true);\r\n          }\r\n          for (let i = 0; i < this.Team2.length; i++) {\r\n            this.Team2[i].SetActive(false);\r\n          }\r\n          for (let i = 0; i < this.Team2.length; i++) {\r\n            this.ballsTeam2.push(\r\n              createBall(\r\n                this.physicWorld,\r\n                this.Team2[i].GetPosition().x + 0.2,\r\n                this.Team2[i].GetPosition().y + 0.1,\r\n                0.075,\r\n                Constants.BALLTEAM2_CATEGORY_BIT,\r\n                Constants.BALLTEAM2_MASK_BIT\r\n              )\r\n            );\r\n          }\r\n          this.camera.position.set(\r\n            this.ballsTeam2[\r\n              Math.floor(this.ballsTeam2.length / 2)\r\n            ].GetPosition().x * Constants.METER_TO_PHYSIC_WORLD,\r\n            Constants.WORLD_HEIGHT / 2,\r\n            0\r\n          );\r\n          this.camera.update();\r\n          this.StateGame.changeTurn = false;\r\n          if (this.StateGame.conditionWin === false) {\r\n            if (this.ballsTeam2.length >= 5) {\r\n              this.originPosition.set(\r\n                this.ballsTeam2[4].GetPosition().x *\r\n                  Constants.METER_TO_PHYSIC_WORLD +\r\n                  100,\r\n                this.ballsTeam2[4].GetPosition().y *\r\n                  Constants.METER_TO_PHYSIC_WORLD +\r\n                  100\r\n              );\r\n            } else {\r\n              this.originPosition.set(\r\n                this.ballsTeam2[this.ballsTeam2.length - 1].GetPosition().x *\r\n                  Constants.METER_TO_PHYSIC_WORLD +\r\n                  100,\r\n                this.ballsTeam2[this.ballsTeam2.length - 1].GetPosition().y *\r\n                  Constants.METER_TO_PHYSIC_WORLD +\r\n                  100\r\n              );\r\n            }\r\n          }\r\n          break;\r\n        case 2:\r\n          for (let i = this.ballsTeam2.length - 1; i >= 0; i--) {\r\n            this.physicWorld.DestroyBody(this.ballsTeam2[i]);\r\n            this.ballsTeam2.splice(i, 1);\r\n          }\r\n          for (let i = this.Team2.length - 1; i >= 0; i--) {\r\n            this.Team2[i].SetActive(true);\r\n          }\r\n          for (let i = this.Team1.length - 1; i >= 0; i--) {\r\n            this.Team1[i].SetActive(false);\r\n            this.StateGame.WhoisTurning = 1;\r\n          }\r\n          for (let i = 0; i < this.Team1.length; i++) {\r\n            this.ballsTeam1.push(\r\n              createBall(\r\n                this.physicWorld,\r\n                this.Team1[i].GetPosition().x + 0.2,\r\n                this.Team1[i].GetPosition().y + 0.1,\r\n                0.075,\r\n                Constants.BALLTEAM1_CATEGORY_BIT,\r\n                Constants.BALLTEAM1_MASK_BIT\r\n              )\r\n            );\r\n          }\r\n          this.camera.position.set(\r\n            this.ballsTeam1[\r\n              Math.floor(this.ballsTeam1.length / 2)\r\n            ].GetPosition().x * Constants.METER_TO_PHYSIC_WORLD,\r\n            Constants.WORLD_HEIGHT / 2,\r\n            0\r\n          );\r\n          this.camera.update();\r\n\r\n          this.StateGame.changeTurn = false;\r\n          if (this.ballsTeam1.length >= 5) {\r\n            this.originPosition.set(\r\n              this.ballsTeam1[4].GetPosition().x *\r\n                Constants.METER_TO_PHYSIC_WORLD +\r\n                100,\r\n              this.ballsTeam1[4].GetPosition().y *\r\n                Constants.METER_TO_PHYSIC_WORLD +\r\n                100\r\n            );\r\n          } else {\r\n            this.originPosition.set(\r\n              this.ballsTeam1[this.ballsTeam1.length - 1].GetPosition().x *\r\n                Constants.METER_TO_PHYSIC_WORLD +\r\n                100,\r\n              this.ballsTeam1[this.ballsTeam1.length - 1].GetPosition().y *\r\n                Constants.METER_TO_PHYSIC_WORLD +\r\n                100\r\n            );\r\n          }\r\n          // this.originPosition.set(\r\n          //   this.ballsTeam1[0].GetPosition().x *\r\n          //     Constants.METER_TO_PHYSIC_WORLD,\r\n          //   this.ballsTeam1[0].GetPosition().y * Constants.METER_TO_PHYSIC_WORLD\r\n          // );\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  }\r\n}\r\n","D:\\projects\\test-game\\src\\System\\ContactListener.ts",["72","73","74"],[],"import {\r\n  b2Body,\r\n  b2BodyType,\r\n  b2Contact,\r\n  b2ContactListener,\r\n  b2JointDef,\r\n  b2JointType,\r\n  b2World,\r\n} from \"box2d.ts\";\r\nimport { System, Inject } from \"flat-ecs\";\r\nimport { StateGame } from \"../dataGame/stateGame\";\r\n\r\nexport class ContactListenerSystem extends System {\r\n  @Inject(\"contactListener\") contactListener: b2ContactListener;\r\n  @Inject(\"physicWorld\") physicWorld: b2World;\r\n  @Inject(\"Team1\") Team1: b2Body[];\r\n  @Inject(\"Team2\") Team2: b2Body[];\r\n  @Inject(\"ballsTeam1\") ballsTeam1: b2Body[];\r\n  @Inject(\"StateGame\") StateGame: StateGame;\r\n\r\n  initialized() {\r\n    this.contactListener.BeginContact = function (contact: b2Contact) {\r\n      const fixtureAData = contact.GetFixtureA().GetBody().GetUserData();\r\n      const fixtureBData = contact.GetFixtureB().GetBody().GetUserData();\r\n\r\n      if (fixtureBData === \"ball\" && fixtureAData.name !== \"Person\") {\r\n        contact.GetFixtureB().GetBody().m_activeFlag = false;\r\n      } else {\r\n      }\r\n      if (fixtureAData.name && fixtureAData.name.startsWith(\"Person\")) {\r\n        fixtureAData.durability += 1;\r\n      }\r\n    };\r\n\r\n    setTimeout(() => {\r\n      this.physicWorld.SetContactListener(this.contactListener);\r\n    }, 500);\r\n  }\r\n\r\n  process(): void {\r\n    for (let i = 0; i < this.Team1.length; i++) {\r\n      if (typeof this.Team1[i].GetUserData().durability === \"number\") {\r\n        if (this.Team1[i].GetUserData().durability <= 2) {\r\n        } else {\r\n          this.physicWorld.DestroyBody(this.Team1[i]);\r\n          this.Team1.splice(i, 1);\r\n        }\r\n      }\r\n    }\r\n    for (let i = 0; i < this.Team2.length; i++) {\r\n      if (typeof this.Team2[i].GetUserData().durability === \"number\") {\r\n        if (this.Team2[i].GetUserData().durability <= 2) {\r\n        } else {\r\n          this.physicWorld.DestroyBody(this.Team2[i]);\r\n          this.Team2.splice(i, 1);\r\n        }\r\n      }\r\n    }\r\n    for (let i = 0; i < this.Team1.length; i++) {\r\n      if (this.Team1[i].GetPosition().y <= 2.4) {\r\n        this.physicWorld.DestroyBody(this.Team1[i]);\r\n        this.Team1.splice(i, 1);\r\n      }\r\n    }\r\n    for (let i = 0; i < this.Team2.length; i++) {\r\n      if (this.Team2[i].GetPosition().y <= 2.4) {\r\n        this.physicWorld.DestroyBody(this.Team2[i]);\r\n        this.Team2.splice(i, 1);\r\n      }\r\n    }\r\n  }\r\n}\r\n","D:\\projects\\test-game\\src\\System\\NextLevelSystem.ts",[],[],"D:\\projects\\test-game\\src\\System\\CameraGame.ts",[],[],{"ruleId":"75","severity":1,"message":"76","line":1,"column":10,"nodeType":"77","messageId":"78","endLine":1,"endColumn":15},{"ruleId":"75","severity":1,"message":"79","line":102,"column":7,"nodeType":"77","messageId":"78","endLine":102,"endColumn":16},{"ruleId":"75","severity":1,"message":"80","line":6,"column":3,"nodeType":"77","messageId":"78","endLine":6,"endColumn":16},{"ruleId":"75","severity":1,"message":"81","line":7,"column":3,"nodeType":"77","messageId":"78","endLine":7,"endColumn":11},{"ruleId":"75","severity":1,"message":"82","line":9,"column":3,"nodeType":"77","messageId":"78","endLine":9,"endColumn":10},{"ruleId":"75","severity":1,"message":"83","line":10,"column":3,"nodeType":"77","messageId":"78","endLine":10,"endColumn":13},{"ruleId":"75","severity":1,"message":"84","line":11,"column":3,"nodeType":"77","messageId":"78","endLine":11,"endColumn":14},{"ruleId":"75","severity":1,"message":"85","line":13,"column":3,"nodeType":"77","messageId":"78","endLine":13,"endColumn":17},{"ruleId":"75","severity":1,"message":"86","line":16,"column":10,"nodeType":"77","messageId":"78","endLine":16,"endColumn":19},{"ruleId":"75","severity":1,"message":"87","line":1,"column":18,"nodeType":"77","messageId":"78","endLine":1,"endColumn":28},{"ruleId":"75","severity":1,"message":"87","line":3,"column":3,"nodeType":"77","messageId":"78","endLine":3,"endColumn":13},{"ruleId":"75","severity":1,"message":"83","line":6,"column":3,"nodeType":"77","messageId":"78","endLine":6,"endColumn":13},{"ruleId":"75","severity":1,"message":"84","line":7,"column":3,"nodeType":"77","messageId":"78","endLine":7,"endColumn":14},"@typescript-eslint/no-unused-vars","'b2_pi' is defined but never used.","Identifier","unusedVar","'touchTemp' is assigned a value but never used.","'b2DynamicTree' is defined but never used.","'b2Filter' is defined but never used.","'b2Joint' is defined but never used.","'b2JointDef' is defined but never used.","'b2JointType' is defined but never used.","'b2WeldJointDef' is defined but never used.","'Constants' is defined but never used.","'b2BodyType' is defined but never used."]